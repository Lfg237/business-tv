<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Business TV</title>
<style>
body{margin:0;background:#0b0f1a;color:#fff;font-family:Arial,sans-serif;}
header{position:sticky;top:0;background:#121b2c;display:flex;align-items:center;padding:12px 18px;z-index:1000;}
header img{width:50px;height:50px;border-radius:10px;margin-right:12px;}
header h1{font-size:28px;font-weight:bold;background:linear-gradient(270deg,#4ea1ff,#ff4ea1,#4effa1);background-size:600% 600%;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:anim 6s ease infinite;}
@keyframes anim{0%{background-position:0%}50%{background-position:100%}100%{background-position:0%}}
.category{margin:20px 0;}
.category h2{margin:10px;color:#4ea1ff;}
.media-row{display:flex;gap:12px;overflow-x:auto;padding:10px;}
.media-card{min-width:260px;background:#121b2c;border-radius:14px;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.6);}
.thumb{width:100%;height:150px;object-fit:cover;cursor:pointer;}
.player iframe,.player video,.player img,.player audio{width:100%;height:150px;border:none;}
.info{padding:6px 10px;font-size:13px;color:#ccc;display:flex;justify-content:space-between;}
.actions{display:flex;justify-content:space-around;padding:10px;flex-wrap:wrap;}
.btn{background:#0044cc;color:white;padding:6px 10px;border-radius:8px;font-size:13px;text-decoration:none;cursor:pointer;}
.btn:hover{background:#0066ff;}
</style>
</head>
<body>

<header>
  <img src="https://raw.githubusercontent.com/Lfg237/business-tv/main/Polish_20260210_113721977.png">
  <h1>Business TV</h1>
</header>

<div id="content"></div>

<script>
const SITE_URL = "https://business-tv.vercel.app/";

/* ===== MODIFIER ICI ===== */
const CATEGORIES = [
  {
    title:"Business TV La Kass",
    phone:"237656050097",
    whatsapp:"237670035609",
    medias:[
      {title:"YouTube 1", url:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},
      {title:"TikTok 1", url:"https://www.tiktok.com/@scout2015/video/6718335390845095173"},
      {title:"Image 1", url:"https://via.placeholder.com/400x250.png?text=Image+1"},
      {title:"Audio 1", url:"https://www.w3schools.com/html/horse.mp3"},
      {title:"MP4 1", url:"https://www.w3schools.com/html/mov_bbb.mp4"},
      {title:"Facebook", url:"https://www.facebook.com/61587537976582/posts/122104193205251265/?app=fbl"}
    ]
  },
  {
    title:"Facilitateurs Middleman",
    phone:"237656050097",
    whatsapp:"237670035609",
    medias:[
      {title:"YouTube 2", url:"https://www.youtube.com/watch?v=fC_l0ON4Ebc"},
      {title:"TikTok 2", url:"https://www.tiktok.com/@tiktok/video/7252255174637815045"},
      {title:"MP4 2", url:"https://www.w3schools.com/html/mov_bbb.mp4"}
    ]
  }
];

/* ===== OUTILS ===== */
function ytID(url){try{return new URL(url).searchParams.get("v");}catch(e){return null;}}
function ytThumb(id){return `https://img.youtube.com/vi/${id}/hqdefault.jpg`;}
function getTikTokId(url){if(url.includes("/video/")) return url.split("/video/")[1].split("?")[0]; return null;}
function tiktokEmbed(url){const id=getTikTokId(url); if(!id)return null; return `https://www.tiktok.com/embed/${id}`;}
function getViews(id){return parseInt(localStorage.getItem(id)||0);}
function addView(id){const v=getViews(id)+1; localStorage.setItem(id,v); return v;}

/* ===== GENERATION ===== */
const box=document.getElementById("content");

CATEGORIES.forEach((cat,cIndex)=>{
  const sec=document.createElement("section"); sec.className="category";
  sec.innerHTML=`<h2>${cat.title}</h2>`;
  const row=document.createElement("div"); row.className="media-row";

  cat.medias.forEach((m,mIndex)=>{
    const shareLink=`${SITE_URL}?cat=${cIndex}&media=${mIndex}`;
    const viewKey=`views_cat${cIndex}_media${mIndex}`;
    let thumb="https://via.placeholder.com/400x250.png?text=Media";
    let type="other";

    if(m.url.includes("youtube")){thumb=ytThumb(ytID(m.url)); type="youtube";}
    else if(m.url.includes("tiktok")){thumb="https://via.placeholder.com/400x250.png?text=TikTok"; type="tiktok";}
    else if(m.url.endsWith(".mp4")){thumb="https://via.placeholder.com/400x250.png?text=MP4"; type="mp4";}
    else if(m.url.match(/\.(jpg|jpeg|png|gif)$/i)){thumb=m.url; type="image";}
    else if(m.url.match(/\.(mp3|wav|ogg)$/i)){thumb="https://via.placeholder.com/400x250.png?text=Audio"; type="audio";}
    else if(m.url.includes("facebook.com")){thumb="https://via.placeholder.com/400x250.png?text=Facebook"; type="facebook";}

    const card=document.createElement("div"); card.className="media-card";
    card.innerHTML=`
      <div class="player" data-type="${type}" data-url="${m.url}" data-viewkey="${viewKey}" data-share="${shareLink}">
        <img class="thumb" src="${thumb}">
      </div>
      <div class="info">
        <span>üëÅ <span class="views">${getViews(viewKey)}</span></span>
        <span>üîó Partage</span>
      </div>
      <div class="actions">
        <button class="btn play">‚ñ∂ Lire</button>
        <button class="btn copy">üìã Copier</button>
        <a class="btn" href="tel:${cat.phone}">üìû</a>
        <a class="btn" target="_blank" href="https://wa.me/${cat.whatsapp}?text=${encodeURIComponent(shareLink)}">üí¨</a>
      </div>
    `;
    row.appendChild(card);
  });

  sec.appendChild(row); box.appendChild(sec);
});

/* ===== ACTIONS ===== */
document.addEventListener("click", e=>{
  if(e.target.classList.contains("play")){
    const card = e.target.closest(".media-card");
    const player = card.querySelector(".player");
    const type = player.dataset.type;
    const url = player.dataset.url;
    const key = player.dataset.viewkey;

    const views = addView(key);
    card.querySelector(".views").textContent = views;

    if(type==="youtube"){player.innerHTML=`<iframe src="https://www.youtube.com/embed/${ytID(url)}?autoplay=1" allowfullscreen></iframe>`;}
    else if(type==="tiktok"){const embed=tiktokEmbed(url); if(embed) player.innerHTML=`<iframe src="${embed}" allowfullscreen></iframe>`; else window.open(url,"_blank");}
    else if(type==="mp4"){player.innerHTML=`<video controls autoplay src="${url}"></video>`;}
    else if(type==="image"){player.innerHTML=`<img src="${url}">`;}
    else if(type==="audio"){player.innerHTML=`<audio controls autoplay src="${url}"></audio>`;}
    else{window.open(url,"_blank");}
  }

  if(e.target.classList.contains("copy")){
    const link=e.target.closest(".media-card").querySelector(".player").dataset.share;
    navigator.clipboard.writeText(link);
    e.target.textContent="‚úÖ Copi√©"; setTimeout(()=>e.target.textContent="üìã Copier",1500);
  }
});
</script>

</body>
</html>